<!DOCTYPE html>
<html>
    <head>
        <!--Page Links-->
        <link rel="stylesheet" href="styles/all-page-header.css">
        <link rel="stylesheet" href="styles/main-page-body.css">
        <link rel="stylesheet" href="styles/content-page.css">

        <!--Font Links-->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Bitter:ital,wght@0,100..900;1,100..900&family=Jersey+15&family=Press+Start+2P&family=Silkscreen:wght@400;700&display=swap" rel="stylesheet">


        <title>You Are The Serpent</title>
        <div class="title">
            <h1>Khalil Clay</h1>
            
        </div>
        <nav class="toolbar">
            
            
            <button class="home-button" onclick="document.location='MainPage.html'">
                
                Home
                
                
            </button>
            <button class="projects-button" onclick="document.location='ProjectsPage.html'">
                
                Projects
                
            </button>
            <button class="contact-button" onclick="document.location='ContactPage.html'">
                Contact
            </button>
        </nav>
        
    </head>
    <body>
        <div class="project-content-block">
            <div class="project-content">
                <article>
            
                    <div class="content-title">
                        <h1>You Are The Serpent</h1>
                    </div>
                    <p>
                        <a href="https://whullum.itch.io/serpent">You Are The Serpent</a> is a metroidvania game where you play as a serpent fighting enemies in an underwater facility. 
                        This game was made with 8 people for Metroidvania Month 19 which lasted for one month. 
                        This game was developed using Unity with C#. 
                    </p>
                    
                    
                    
                    <h2 class="wp-block-heading">Projectiles</h2>
                    
                    
                    
                    <p>I worked on the projectile ability for the player. When making this ability, I wanted it to be a simple ranged attack. My idea for this ability was for the player to be able to shoot in the direction they’re looking at. For this, I set a spawn point in front of the player for the projectiles to be launched from and rotated it 90 degrees so the y-axis points in the direction of the mouth. Then when the fire button is pressed the projectile itself is initialized and velocity is to shoot upward locally from the spawn point. After that, a timer is started which prevents firing for a short period. The issue with this is that multiple projectiles could be shot before the timer started. So I decided to use a coroutine instead for its “wait for seconds” method which proved to be a better timer. The issue with my previous timer was that it wasn’t preventing fire for a long enough period in Update. So since coroutines run over time I was better able to prevent firing that way.  </p>
                    
                    
                    
                    <figure>
                        <div class="wp-block-embed__wrapper">
                            <div class="jetpack-video-wrapper">
                                <span class="embed-youtube" style="text-align:center; display: block;">
                                    <iframe class="youtube-player" src="https://www.youtube.com/embed/F0fNdyHMo6s?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" style="border: 0px; display: block; margin: 0px; width: 652px; height: 367.104px;" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation allow-popups-to-escape-sandbox" data-ratio="0.5630434782608695" data-width="920" data-height="518">
                                    </iframe>
                                </span>
                            </div>
                        </div>
                        <figcaption>Ranged Attack Test</figcaption>
                    </figure>
                    
                    
                    
                    <h2>Grappling</h2>
                    
                    
                    
                    <p>
                        I also worked on the grapple which is the player’s first attack ability. 
                        Since this was a core mechanic in the game some more detailed planning was needed for it. 
                        The team decided that the grapple should allow the player to latch onto and thrash enemies in order to damage them. Also, since the player is a serpent whose body segments can be manipulated by physics it makes sense for the grappling appendage to also have physics attached to it. 
                        To start off, I first wanted to make make a line from the player to a target. So using Unity’s line render, I made it so that a line connecting from the player to the target would activate when the target is currently in the designated area for grappling. 
                        I also made it so that the appendage would stay once the target has left the transparent red grappling area. 
                    </p>
                    
                    
                    
                    <figure>
                        <span class="embed-youtube" style="text-align:center; display: block;">
                            <iframe class="youtube-player" src="https://www.youtube.com/embed/SWtx_uZheM0?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" style="border: 0px; display: block; margin: 0px; width: 652px; height: 367.104px;" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation allow-popups-to-escape-sandbox" data-ratio="0.5630434782608695" data-width="920" data-height="518">
                            </iframe>
                        </span>
                        <figcaption>Grapple Test 1(Attaching to target)</figcaption>
                    </figure>
                    
                    
                    
                    <p>
                        The results of this were pleasing but there was a consideration that needed to be made for multiple targets being potentially grappled. 
                        So to fix this I changed the grappling area to add and remove targets from a C# list based on if they enter or leave the area. This fixed the issue of having multiple enemies being potentially grappled so now I could move on to the thrashing. 
                        My goal with the thrashing was to allow the player to swing an enemy back and forth similar to how Luigi could slam enemies in Luigi’s Mansion 3. 
                        Since I’m not an animator and couldn’t make an animation like that game did but what I could do is apply force to a grappled enemy. 
                        The way applying force works is by using the force method from the rigidbody2D component each enemy has. 
                        So I chose to apply alternating forces to the grappled target so that it would look like the player was shaking around the target. 
                        Additionally, rigidbody2D force method is also applied to levers so that the player can pull them to activate doors.
                    </p>
                    
                    <figure>
                        <span class="embed-youtube" style="text-align:center; display: block;">
                            <iframe class="youtube-player" src="https://www.youtube.com/embed/NqfT31Pg6Gc?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" style="border: 0px; display: block; margin: 0px; width: 652px; height: 367.104px;" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation allow-popups-to-escape-sandbox" data-ratio="0.5630434782608695" data-width="920" data-height="518">
                            </iframe>
                        </span>
                        <figcaption>Grapple Test 2(Physics)</figcaption>
                    </figure>
                    
                    
                    <p>
                        Finally, for the physics of the appendage, I chose to use verlet integration to implement the physics of the appendage. 
                        I’m not very experienced with physics so I took the time to learn from a tutorial on how to add rope physics using the line renderer in unity. 
                        The verlet integration essentially adds velocity to specified points in the line renderer. 
                        Of course, the start and end points don’t need velocity so those are left alone. Constraints are also applied many times to the appendage so that point maintains a set distance from each other. 
                        This can be performance intensive so the constraints are only applied about 500 times per frame. 
                        The result is an appendage that looks ropey and not stiff. 
                    </p>
                    
                    
                    
                    
            
                </article>
            </div>
        </div>
    </body>
</html>
